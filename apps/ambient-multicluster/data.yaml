tags:
    - Networking
title: "Ambient Multicluster (Solo.io)"
summary: "Sidecar-less mesh with node-level routing and app-layer control."
logo: "https://ambientmesh.io/logo-ambient-mesh.svg"
created: "2025-06-12T12:42:00Z"
description: |
An ambient mesh is a service mesh that operates independently of the workloads that are enrolled in it.

Compared to traditional ("sidecar") service mesh, where a proxy server is embedded alongside each workload, an ambient mesh uses shared proxies which are operated separately from a user's application.

In order to securely deliver this, functionality related to network routing and transport security (Layer 3 and Layer 4 of the OSI model, generally referred to as "L4") and functionality relating to HTTP or other application protocols (Layer 7, or "L7") is split. Layer 4 functionality is delivered by a shared proxy operating on every node, and Layer 7 functionality is provided by a proxy server shared within the security boundary of the application (traditionally, the Kubernetes namespace).

support_link: https://www.solo.io/istio-support
install_code: |
    ~~~bash
    # Install Gateway API CRDs
    kubectl get crd gateways.gateway.networking.k8s.io &> /dev/null || \
      { kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.2.1/standard-install.yaml }

    # Install base components
    helm install istio-base oci://ghcr.io/k0rdent/catalog/charts/istio-base-service-template \
      --version 1.25.2 -n istio-system --create-namespace --wait \
      --set global.hub=us-docker.pkg.dev/soloio-img/istio \
      --set global.tag=1.25.2-solo

    # Install istiod with ambient profile
    helm install istiod oci://ghcr.io/k0rdent/catalog/charts/istiod-service-template \
      --version 1.25.2 -n istio-system --set profile=ambient --wait \
      --set global.hub=us-docker.pkg.dev/soloio-img/istio \
      --set global.tag=1.25.2-solo

    # Install CNI with ambient profile
    helm install istio-cni oci://ghcr.io/k0rdent/catalog/charts/istio-cni-service-template \
      --version 1.25.2 -n istio-system --set profile=ambient --wait \
      --set global.hub=us-docker.pkg.dev/soloio-img/istio \
      --set global.tag=1.25.2-solo

    # Install ztunnel
    helm install ztunnel oci://ghcr.io/k0rdent/catalog/charts/istio-ztunnel-service-template \
      --version 1.25.2 -n istio-system --wait \
      --set global.hub=us-docker.pkg.dev/soloio-img/istio \
      --set global.tag=1.25.2-solo
    ~~~
verify_code: |
    ~~~bash
    kubectl get servicetemplates -A
    # NAMESPACE      NAME                      VALID
    # istio-system   istio-base-1-25-2         true
    # istio-system   istio-cni-1-25-2          true
    # istio-system   istiod-1-25-2             true
    # istio-system   istio-ztunnel-1-25-2      true
    ~~~
deploy_code: |
    ~~~yaml
    apiVersion: k0rdent.mirantis.com/v1alpha1
    kind: MultiClusterService
    metadata:
      name: istio-ambient
    spec:
      clusterSelector:
        matchLabels:
          group: demo
      serviceSpec:
        services:
        - template: istio-base-1-25-2
          name: istio-base
          namespace: istio-system
          values: |
            global:
              hub: us-docker.pkg.dev/soloio-img/istio
              tag: 1.25.2-solo
        - template: istio-cni-1-25-2
          name: istio-cni
          namespace: istio-system
          values: |
            profile: ambient
            global:
              hub: us-docker.pkg.dev/soloio-img/istio
              tag: 1.25.2-solo
        - template: istiod-1-25-2
          name: istiod
          namespace: istio-system
          values: |
            profile: ambient
            global:
              hub: us-docker.pkg.dev/soloio-img/istio
              tag: 1.25.2-solo
        - template: istio-ztunnel-1-25-2
          name: ztunnel
          namespace: istio-system
          values: |
            global:
              hub: us-docker.pkg.dev/soloio-img/istio
              tag: 1.25.2-solo
    ~~~
doc_link: https://ambientmesh.io/docs/
test_namespace: istio-system
test_deploy_chart: false
test_wait_for_pods: "ztunnel-"
